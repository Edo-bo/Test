<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Promo Produk</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
</head>
<body class="min-h-screen bg-gray-100 flex flex-col items-center p-4" style="background-image: url('https://storage.googleapis.com/a1aa/image/89c3b8d3-c135-4ecb-844b-59110195a649.jpg'); background-size: cover; background-position: center;">
  <div class="bg-white bg-opacity-90 backdrop-blur-md rounded-lg shadow-lg max-w-4xl w-full p-6 text-gray-900 font-sans space-y-6 z-10 relative">
    <h1 class="text-3xl font-extrabold text-center mb-4 text-red-600">ðŸ’¥PROMOðŸ’¥</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Daftar Jualan -->
      <div>
        <h2 class="text-2xl font-bold mb-4 border-b border-gray-300 pb-1">Daftar Jualan</h2>
        <ul class="list-disc list-inside space-y-2 text-gray-800 max-h-[400px] overflow-y-auto">
          <li>7 HARI = 10.000</li>
          <li>14 HARI = 20.000</li>
          <li>21 HARI = 30.000</li>
          <li>28 HARI = 40.000</li>
          <li>35 HARI = 50.000</li>
        </ul>
        <h3 class="text-xl font-bold mt-6 mb-2 border-b border-gray-300 pb-1">BENEFIT</h3>
        <ul class="list-disc list-inside space-y-1 text-gray-800">
          <li>BOLEH REQUEST SC SENDIRI</li>
          <li>BOLEH NEGO</li>
          <li>1 SEWA ADALAH 1 GRUP</li>
          <li>JIKA BOT DI KICK MAKA AKAN MEMBAYAR ULANG</li>
          <li>JIKA NOMOR BOT KEBLOKIR MAKA HARUS BAYAR SEKILAS</li>
        </ul>
        <p class="mt-6 font-semibold text-gray-900">
          HUBUNGI WHATSAPP: <a href="https://wa.me/6285955201695" target="_blank" class="text-blue-600 underline">6285955201695</a>
        </p>
      </div>

      <!-- Form Order -->
      <div>
        <form id="orderForm" class="space-y-4 bg-white bg-opacity-90 p-4 rounded-md shadow-md">
          <label for="botName" class="block font-semibold text-gray-900">Nama Bot WhatsApp:</label>
          <input
            type="text"
            id="botName"
            name="botName"
            placeholder="Masukkan nama Bot WhatsApp"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
            required
          />

          <label for="username" class="block font-semibold text-gray-900">Username:</label>
          <input
            type="text"
            id="username"
            name="username"
            placeholder="Masukkan username"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
            required
          />

          <label for="password" class="block font-semibold text-gray-900">Password:</label>
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Masukkan password"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
            required
          />

          <label for="domainHosting" class="block font-semibold text-gray-900">Domain Hosting:</label>
          <input
            type="text"
            id="domainHosting"
            name="domainHosting"
            placeholder="Masukkan detail Domain Hosting"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
            required
          />

          <label for="product" class="block font-semibold text-gray-900">Durasi:</label>
          <select id="product" name="product" required class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled selected>Pilih durasi sewa</option>
            <option value="7 Hari = 10000" data-price="10000">7 HARI = 10.000</option>
            <option value="14 Hari = 20000" data-price="20000">14 HARI = 20.000</option>
            <option value="21 Hari = 30000" data-price="30000">21 HARI = 30.000</option>
            <option value="28 Hari = 40000" data-price="40000">28 HARI = 40.000</option>
            <option value="35 Hari = 50000" data-price="50000">35 HARI = 50.000</option>
          </select>

          <label for="paymentMethod" class="block font-semibold text-gray-900">Metode Pembayaran:</label>
          <select id="paymentMethod" name="paymentMethod" required class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="" disabled selected>Pilih metode pembayaran</option>
            <option value="Dana 6283897953159">Dana - 6283897953159</option>
          </select>

          <label for="phoneNumber" class="block font-semibold text-gray-900">Nomor:</label>
          <input
            type="text"
            id="phoneNumber"
            name="phoneNumber"
            placeholder="Masukkan nomor Anda"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
            required
          />

          <label for="promoCode" class="block font-semibold text-gray-900">Kode Promo:</label>
          <input
            type="text"
            id="promoCode"
            name="promoCode"
            placeholder="Masukkan kode promo"
            class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            autocomplete="off"
          />
          <p id="discountInfo" class="text-green-700 font-semibold hidden"></p>

          <div class="text-right font-semibold text-lg text-gray-900">
            Total: Rp <span id="totalPrice">0</span>
          </div>

          <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded-md transition-colors duration-300">
            Kirim ke NGL
          </button>
        </form>
      </div>
    </div>

    <div class="mt-6 p-4 bg-blue-100 border border-blue-300 rounded-md text-center">
      <h3 class="text-lg font-bold mb-2 text-blue-800">Gabung Saluran WhatsApp Kami!</h3>
      <p class="mb-3 text-blue-700">Dapatkan update terbaru dan promo menarik langsung di saluran WhatsApp kami.</p>
      <a href="https://whatsapp.com/channel/0029VbAuluK4CrfgyQhHXp45" target="_blank" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-300">
        Join Sekarang
      </a>
    </div>
  </div>

  <!-- Popup Overlay -->
  <div id="popupOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-20">
    <div class="bg-white rounded-lg shadow-lg max-w-sm w-full p-6 relative">
      <button id="closePopup" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl font-bold">&times;</button>
      <h2 class="text-xl font-bold mb-4 text-center text-blue-800">Gabung Saluran WhatsApp Kami!</h2>
      <p class="mb-4 text-center text-blue-700">Dapatkan update terbaru dan promo menarik langsung di saluran WhatsApp kami.</p>
      <div class="text-center">
        <a href="https://whatsapp.com/channel/0029VbAuluK4CrfgyQhHXp45" target="_blank" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded transition-colors duration-300">
          Join Sekarang
        </a>
      </div>
    </div>
  </div>

  <script>
    // Generate 100 random promo codes with random discounts between 1,000 and 35,000 IDR
    const promoCodes = {
      "AKUBELI123": "fixed5000" // special fixed price promo
    };

    // Helper to generate random promo codes like PROMO123, HEMAT5, DISKON20, SALE10, POTONG15, SAVE25
    const promoPrefixes = ["PROMO", "HEMAT", "DISKON", "SALE", "POTONG", "SAVE"];
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    for(let i=1; i<=100; i++) {
      const prefix = promoPrefixes[getRandomInt(0, promoPrefixes.length -1)];
      const number = getRandomInt(1, 999);
      const code = prefix + number;
      // Discount amount between 1000 and 35000 IDR
      const discountAmount = getRandomInt(1000, 35000);
      promoCodes[code.toUpperCase()] = discountAmount;
    }

    const botNameInput = document.getElementById('botName');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const domainHostingInput = document.getElementById('domainHosting');
    const productSelect = document.getElementById('product');
    const promoInput = document.getElementById('promoCode');
    const discountInfo = document.getElementById('discountInfo');
    const totalPriceEl = document.getElementById('totalPrice');
    const paymentMethodSelect = document.getElementById('paymentMethod');
    const phoneNumberInput = document.getElementById('phoneNumber');

    function calculateTotal() {
      const selectedOption = productSelect.options[productSelect.selectedIndex];
      if (!selectedOption || !selectedOption.dataset.price) {
        totalPriceEl.textContent = '0';
        discountInfo.classList.add('hidden');
        return 0;
      }
      let price = parseInt(selectedOption.dataset.price, 10);
      const promoCode = promoInput.value.trim().toUpperCase();

      if (promoCode === "AKUBELI123") {
        // Special promo: fixed price 5000, no message shown
        const discountedPrice = 5000000;
        totalPriceEl.textContent = discountedPrice.toLocaleString('id-ID');
        discountInfo.classList.add('hidden');
        return discountedPrice;
      }

      if (promoCode && promoCodes.hasOwnProperty(promoCode) && promoCodes[promoCode] !== "fixed5000") {
        const discountAmount = promoCodes[promoCode];
        let discountedPrice = price - discountAmount;
        if (discountedPrice < 0) discountedPrice = 0;
        discountInfo.textContent = `Kode promo valid! Anda mendapatkan potongan Rp ${discountAmount.toLocaleString('id-ID')}`;
        discountInfo.classList.remove('hidden');
        totalPriceEl.textContent = discountedPrice.toLocaleString('id-ID');
        return discountedPrice;
      } else {
        discountInfo.classList.add('hidden');
        totalPriceEl.textContent = price.toLocaleString('id-ID');
        return price;
      }
    }

    productSelect.addEventListener('change', calculateTotal);
    promoInput.addEventListener('input', calculateTotal);

    document.getElementById('orderForm').addEventListener('submit', function(e) {
      e.preventDefault();

      if (!botNameInput.value.trim()) {
        alert('Silakan isi Nama Bot WhatsApp.');
        return;
      }
      if (!usernameInput.value.trim()) {
        alert('Silakan isi Username.');
        return;
      }
      if (!passwordInput.value.trim()) {
        alert('Silakan isi Password.');
        return;
      }
      if (!domainHostingInput.value.trim()) {
        alert('Silakan isi Domain Hosting.');
        return;
      }
      if (!phoneNumberInput.value.trim()) {
        alert('Silakan isi Nomor.');
        return;
      }

      const productOption = productSelect.options[productSelect.selectedIndex];
      const paymentMethodOption = paymentMethodSelect.options[paymentMethodSelect.selectedIndex];
      if (!productOption || !productOption.value) {
        alert('Silakan pilih durasi.');
        return;
      }
      if (!paymentMethodOption || !paymentMethodOption.value) {
        alert('Silakan pilih metode pembayaran.');
        return;
      }
      const promoCodeRaw = promoInput.value.trim();
      const promoCode = promoCodeRaw.toUpperCase();
      let message = '';
      if (promoCode === "AKUBELI123") {
        message = `Halo Admin, saya ingin sewa:\nâ€¢ Nama Bot WhatsApp : ${botNameInput.value.trim()}\nâ€¢ Username : ${usernameInput.value.trim()}\nâ€¢ Password : ${passwordInput.value.trim()}\nâ€¢ Domain Hosting : ${domainHostingInput.value.trim()}\n\nâ€¢ Durasi : ${productOption.value} dan menggunakan kode promo potong harga 100.000.\nâ€¢ Metode pembayaran : ${paymentMethodOption.value}\nâ€¢ Nomor : ${phoneNumberInput.value.trim()}`;
      } else if (promoCode && promoCodes.hasOwnProperty(promoCode) && promoCodes[promoCode] !== "fixed5000") {
        message = `Halo Admin, saya ingin sewa:\nâ€¢ Nama Bot WhatsApp : ${botNameInput.value.trim()}\nâ€¢ Username : ${usernameInput.value.trim()}\nâ€¢ Password : ${passwordInput.value.trim()}\nâ€¢ Domain Hosting : ${domainHostingInput.value.trim()}\n\nâ€¢ Durasi : ${productOption.value} dengan kode promo ${promoCodeRaw}.\nâ€¢ Metode pembayaran : ${paymentMethodOption.value}\nâ€¢ Nomor : ${phoneNumberInput.value.trim()}`;
      } else {
        message = `Halo Admin, saya ingin sewa:\nâ€¢ Nama Bot WhatsApp : ${botNameInput.value.trim()}\nâ€¢ Username : ${usernameInput.value.trim()}\nâ€¢ Password : ${passwordInput.value.trim()}\nâ€¢ Domain Hosting : ${domainHostingInput.value.trim()}\n\nâ€¢ Durasi : ${productOption.value}.\nâ€¢ Metode pembayaran : ${paymentMethodOption.value}\nâ€¢ Nomor : ${phoneNumberInput.value.trim()}`;
      }
      // NGL message URL
      const nglUrl = 'https://ngl.link/send/order49524'; // Replace 'yourusername' with actual NGL username

      // Open NGL message in new tab
      window.open(nglUrl, '_blank');

      // Optionally alert user to copy message and send manually
      alert('Silakan kirim pesan berikut ke NGL:\n\n' + message);
    });

    // Initialize total price on page load
    calculateTotal();

    // Popup logic
    const popupOverlay = document.getElementById('popupOverlay');
    const closePopupBtn = document.getElementById('closePopup');

    // Show popup after 3 seconds
    window.addEventListener('load', () => {
      setTimeout(() => {
        popupOverlay.classList.remove('hidden');
      }, 3000);
    });

    closePopupBtn.addEventListener('click', () => {
      popupOverlay.classList.add('hidden');
    });

    // Optional: close popup when clicking outside the popup content
    popupOverlay.addEventListener('click', (e) => {
      if (e.target === popupOverlay) {
        popupOverlay.classList.add('hidden');
      }
    });
  </script>
</body>
  </html>
